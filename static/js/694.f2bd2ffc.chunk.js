"use strict";(self.webpackChunktech_part_followers=self.webpackChunktech_part_followers||[]).push([[694],{694:function(A,n,t){t.r(n),t.d(n,{default:function(){return B}});var e=t(683),p=t(433),l=t(439),o=t(165),d=t(861),s=t(243);s.Z.defaults.baseURL="https://645e153212e0a87ac0e71f94.mockapi.io/";var a="users",r=function(){var A=(0,d.Z)((0,o.Z)().mark((function A(n,t){return(0,o.Z)().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,s.Z.put("".concat(a,"/").concat(n),t);case 3:return A.abrupt("return",A.sent);case 6:A.prev=6,A.t0=A.catch(0),console.log(A.t0.message);case 9:case"end":return A.stop()}}),A,null,[[0,6]])})));return function(n,t){return A.apply(this,arguments)}}(),c=t(791),i=t(689),k=t(87),g="TweetsCard_wrapper__sDQFP",w="TweetsCard_divider__znpqh",T="TweetsCard_thumb__2m8Vy",S="TweetsCard_avatar__D9-pC",Q="TweetsCard_infoBox__sKHOG",D="TweetsCard_tweets__yXity",I="TweetsCard_followers__sRfXZ",M="TweetsCard_button__8nwHL",O="TweetsCard_btnFollow__OOoJ5",u="TweetsCard_btnFollowing__OcMRj",m=t(184),f=function(A){var n=A.user,t=A.onFollow,e=n.id,p=n.tweets,l=n.followers,o=n.avatar,d=n.following;return(0,m.jsxs)("div",{className:g,children:[(0,m.jsx)("div",{className:w}),(0,m.jsx)("div",{className:T,children:(0,m.jsx)("img",{src:o,alt:"avatar",className:S})}),(0,m.jsxs)("div",{className:Q,children:[(0,m.jsxs)("span",{className:D,children:[p.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," tweets"]}),(0,m.jsxs)("span",{className:I,children:[l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," followers"]}),d?(0,m.jsx)("button",{type:"button",onClick:function(){t(e)},className:"".concat(M," ").concat(u),children:"Following"}):(0,m.jsx)("button",{type:"button",onClick:function(){t(e)},className:"".concat(M," ").concat(O),children:"Follow"})]})]})},U={link:"Tweets_link__SxeKq",list:"Tweets_list__J2xhl",button:"Tweets_button__8EO35"},B=function(){var A,n,t=(0,c.useState)([]),o=(0,l.Z)(t,2),d=o[0],g=o[1],w=(0,c.useState)(1),T=(0,l.Z)(w,2),S=T[0],Q=T[1],D=(0,c.useState)(1),I=(0,l.Z)(D,2),M=I[0],O=I[1],u=(0,c.useState)(!0),B=(0,l.Z)(u,2),K=B[0],Z=B[1],C=(0,i.TH)(),h=(0,c.useRef)(null!==(A=null===(n=C.state)||void 0===n?void 0:n.from)&&void 0!==A?A:"/");(0,c.useEffect)((function(){(function(){try{return s.Z.get("".concat(a))}catch(A){console.log(A)}})().then((function(A){var n=A.data.length/3;O(n)}))}),[M,d]),(0,c.useEffect)((function(){(function(A){try{return s.Z.get("".concat(a),{params:{limit:3,page:A}})}catch(n){console.log(n)}})(S).then((function(A){g((function(n){return[].concat((0,p.Z)(n),(0,p.Z)(A.data))})),Z(!1)})).catch((function(A){console.log(A)}))}),[S]);var y=function(A){var n=d.findIndex((function(n){return n.id===A}));!0===d[n].following?r(A,{following:!1,followers:d[n].followers-1}).then((function(n){g((function(t){return t.map((function(t){return t.id===A?(0,e.Z)((0,e.Z)({},t),{},{following:n.data.following,followers:n.data.followers}):t}))}))})):r(A,{following:!0,followers:d[n].followers+1}).then((function(n){g((function(t){return t.map((function(t){return t.id===A?(0,e.Z)((0,e.Z)({},t),{},{following:n.data.following,followers:n.data.followers}):t}))}))}))};return(0,m.jsxs)(m.Fragment,{children:[h&&(0,m.jsx)(k.rU,{to:h.current,className:U.link,children:"Go back"}),(0,m.jsx)("ul",{className:U.list,children:K?(0,m.jsx)("li",{className:U.item,children:(0,m.jsx)("img",{src:"data:image/png;base64,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",alt:"default"})}):d.length>0&&d.map((function(A){return(0,m.jsx)("li",{className:U.item,children:(0,m.jsx)(f,{user:A,onFollow:y})},A.id)}))}),S<M&&(0,m.jsx)("button",{type:"button",onClick:function(){Q(S+1)},className:U.button,children:"Load more"})]})}}}]);
//# sourceMappingURL=694.f2bd2ffc.chunk.js.map