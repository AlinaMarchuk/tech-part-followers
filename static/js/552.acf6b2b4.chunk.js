"use strict";(self.webpackChunktech_part_followers=self.webpackChunktech_part_followers||[]).push([[552],{552:function(t,e,n){n.r(e),n.d(e,{default:function(){return N}});var s=n(433),a=n(439),o=n(165),r=n(861),c=n(243);c.Z.defaults.baseURL="https://645e153212e0a87ac0e71f94.mockapi.io/";var l="users",i=function(){var t=(0,r.Z)((0,o.Z)().mark((function t(e){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.put("".concat(l,"/").concat(e.id),e);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),u=n(791),f=n(683),d="TweetsCard_wrapper__sDQFP",_="TweetsCard_divider__znpqh",w="TweetsCard_thumb__2m8Vy",h="TweetsCard_avatar__D9-pC",p="TweetsCard_infoBox__sKHOG",m="TweetsCard_tweets__yXity",g="TweetsCard_followers__sRfXZ",v="TweetsCard_button__8nwHL",b="TweetsCard_btnFollow__OOoJ5",x="TweetsCard_btnFollowing__OcMRj",Z=n(184),C=function(t){var e=t.user,n=e.tweets,s=e.followers,o=e.avatar,r=e.following,c=void 0!==r&&r,l=(0,u.useState)(c),C=(0,a.Z)(l,2),j=C[0],N=C[1],T=(0,u.useState)(s),y=(0,a.Z)(T,2),k=y[0],F=y[1],S=function(){var t=(0,f.Z)({},e);j?(t.followers=t.followers-1,t.following=!1):(t.followers=t.followers+1,t.following=!0),i(t).then((function(t){F(t.data.followers)})),N(!j)};return(0,Z.jsxs)("div",{className:d,children:[(0,Z.jsx)("div",{className:_}),(0,Z.jsx)("div",{className:w,children:(0,Z.jsx)("img",{src:o,alt:"avatar",className:h})}),(0,Z.jsxs)("div",{className:p,children:[(0,Z.jsxs)("span",{className:m,children:[n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," tweets"]}),(0,Z.jsxs)("span",{className:g,children:[k.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," ","followers"]}),j?(0,Z.jsx)("button",{type:"button",onClick:S,className:"".concat(v," ").concat(x),children:"Following"}):(0,Z.jsx)("button",{type:"button",onClick:S,className:"".concat(v," ").concat(b),children:"Follow"})]})]})},j={list:"Tweets_list__9thFZ",button:"Tweets_button__Anype"},N=function(){var t=(0,u.useState)([]),e=(0,a.Z)(t,2),n=e[0],o=e[1],r=(0,u.useState)(1),i=(0,a.Z)(r,2),f=i[0],d=i[1],_=(0,u.useState)(1),w=(0,a.Z)(_,2),h=w[0],p=w[1];return(0,u.useEffect)((function(){(function(){try{return c.Z.get("".concat(l))}catch(t){console.log(t)}})().then((function(t){var e=t.data.length/3;p(e)}))}),[h]),(0,u.useEffect)((function(){(function(t){try{return c.Z.get("".concat(l),{params:{limit:3,page:t}})}catch(e){console.log(e)}})(f).then((function(t){o((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(t.data))}))})).catch((function(t){console.log(t)}))}),[f]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("ul",{className:j.list,children:n.length>0&&n.map((function(t){return(0,Z.jsx)("li",{className:j.item,children:(0,Z.jsx)(C,{user:t})},t.id)}))}),f<h&&(0,Z.jsx)("button",{type:"button",onClick:function(){d(f+1)},className:j.button,children:"Load more"})]})}}}]);
//# sourceMappingURL=552.acf6b2b4.chunk.js.map